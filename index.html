<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>xCLOUD · CloudX Portal · Enterprise Premium</title>
  <meta name="description" content="xCLOUD by ZDOS — Business Layer enterprise, DSN/Blockchain ready, modular CRM & portal." />
  <meta name="theme-color" content="#000000" />
  <meta property="og:title" content="xCLOUD · CloudX Portal · Enterprise Premium" />
  <meta property="og:description" content="Enterprise-grade modular platform, DSN-ready, audit & traceability for business." />
  <meta property="og:image" content="https://x-zdos.it/og-image.png" />
  <meta property="og:url" content="https://x-zdos.it" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Preload fonts -->
  <link rel="preload" href="/fonts/Inter-Variable.woff2" as="font" type="font/woff2" crossorigin>

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WZQKSTXX');</script>
  <!-- End Google Tag Manager -->

  <style>
    :root{
      --bg:#050509; --panel:#0b0b11; --accent:#00eaff; --accent-2:#00c7d6;
      --muted:#9aa0b2; --text:#eaf6ff; --glass:#0b0b14; --danger:#ff5e5b;
      --radius:12px; --text-soft:#a0a0b0; --text-main:#f5f5f5;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(circle at 10% 10%, #0f1724 0%, #050509 45%, #000 100%);
      color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
      -webkit-tap-highlight-color:transparent;overflow-x:hidden;
    }
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    header.topbar{position:fixed;left:0;right:0;top:0;height:64px;padding:10px 28px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      background:linear-gradient(180deg, rgba(5,5,9,0.8), rgba(5,5,9,0.45));
      border-bottom:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(10px);z-index:60;}
    .brand{display:flex;align-items:center;gap:12px}
    .brand-mark{width:36px;height:36px;border-radius:8px;
      background:radial-gradient(circle at 30% 20%,#00eaff,#004b66 60%,#000 100%);
      box-shadow:0 0 18px #00eaff55;}
    .brand-title{font-weight:700;letter-spacing:0.08em;color:var(--accent);text-transform:uppercase;font-size:14px}
    nav.topnav{display:flex;gap:10px;align-items:center}
    nav.topnav a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:999px;font-size:13px;border:1px solid transparent;transition:0.18s ease;}
    nav.topnav a:hover{border-color:rgba(255,255,255,0.08);color:var(--accent);background:rgba(0,0,0,0.4)}
    nav.topnav a.primary{background:rgba(0,234,255,0.08);color:var(--accent);box-shadow:0 0 10px #00eaff33;border-color:rgba(0,234,255,0.25);}
    .actions{display:flex;gap:8px;align-items:center}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);font-size:12px;font-weight:600;cursor:pointer;text-decoration:none;transition:0.18s ease;}
    .btn:hover{border-color:rgba(255,255,255,0.18);color:var(--accent)}
    .hero{padding-top:110px;text-align:center;margin-bottom:18px}
    .hero h1{font-size:34px;margin:6px 0;color:var(--accent);text-shadow:0 0 14px #00eaff55;letter-spacing:0.06em;text-transform:uppercase;}
    .hero p{color:var(--muted);max-width:820px;margin:0 auto 18px;line-height:1.5;font-size:14px;}
    .hero-cta{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:18px}
    .btn.primary{background:var(--accent);color:#001;border-color:transparent;box-shadow:0 6px 30px #00eaff44;font-size:13px;}
    .btn.primary:hover{background:var(--accent-2);box-shadow:0 8px 36px #00eaff66}
    .btn.ghost{background:transparent;color:var(--muted);border-color:rgba(255,255,255,0.08)}
    .btn.ghost:hover{color:var(--accent);border-color:rgba(0,234,255,0.4)}
    .social-buttons{display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap}
    .social-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;background:var(--glass);border:1px solid rgba(255,255,255,0.04);color:var(--muted);text-decoration:none;font-weight:600;font-size:12px;transition:0.18s ease;}
    .social-btn:hover{border-color:rgba(0,234,255,0.4);color:var(--accent);box-shadow:0 0 18px #00eaff33}
    .desktop{max-width:1100px;margin:28px auto 24px;padding:18px;border-radius:16px;background:radial-gradient(circle at top left,rgba(0,234,255,0.08) 0,rgba(5,5,9,0.95) 55%);border:1px solid rgba(255,255,255,0.04);box-shadow:0 10px 40px rgba(0,0,0,0.7);}
    .desktop-title{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:0.14em;margin-bottom:10px;}
    .terminal-window{background:#050509;border-radius:12px;border:1px solid rgba(255,255,255,0.05);overflow:hidden;}
    .terminal-header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:linear-gradient(180deg,#0b0b14,#07070a);border-bottom:1px solid rgba(255,255,255,0.06);font-size:12px;color:var(--muted);}
    .term-dots{display:flex;gap:6px}
    .term-dot{width:10px;height:10px;border-radius:50%}
    .term-dot.red{background:#ff5f57}.term-dot.yellow{background:#febc2e}.term-dot.green{background:#28c840}
    .terminal-body{padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,monospace;font-size:13px;color:var(--accent);min-height:260px;max-height:420px;overflow:auto;background:radial-gradient(circle at top,#101020 0,#050509 60%);}
    .terminal-output{white-space:pre-wrap;color:#d0f6ff;margin-bottom:8px}
    .terminal-input-line{display:flex;align-items:center;gap:8px}
    .terminal-prompt{color:var(--accent-2);font-weight:700}
    .terminal-input{flex:1;background:transparent;border:none;outline:none;color:var(--text-main);font-family:inherit;font-size:13px;}
    .nexus-wrapper{display:flex;justify-content:center;margin-top:22px}
    .nexus-button{position:relative;display:inline-flex;align-items:center;justify-content:center;padding:18px 36px;border-radius:999px;background:linear-gradient(90deg,#001 0%,#050509 100%);border:1px solid rgba(0,234,255,0.18);box-shadow:0 8px 40px rgba(0,234,255,0.12);text-decoration:none;overflow:hidden;cursor:pointer;transition:0.22s ease;}
    .nexus-button:hover{transform:translateY(-3px);box-shadow:0 10px 46px rgba(0,234,255,0.28);border-color:rgba(0,234,255,0.45);}
    .nexus-core{position:absolute;inset:0;border-radius:999px;background:radial-gradient(circle at 30% 30%,rgba(0,234,255,0.16),transparent 55%);opacity:0;transition:opacity .25s;}
    .nexus-button:hover .nexus-core{opacity:1}
    .nexus-label{position:relative;z-index:2;color:var(--accent);font-weight:800;letter-spacing:0.16em;font-size:13px;text-transform:uppercase;text-shadow:0 0 12px #00eaff88;}
    .portal-flash{position:fixed;inset:0;background:radial-gradient(circle at center,#00eaff,#000);z-index:9999;pointer-events:none;opacity:0;}
    .repo-card{display:flex;justify-content:center;margin-top:26px;}
    .repo-card-inner{width:100%;max-width:520px;padding:18px 20px;border-radius:16px;background:linear-gradient(180deg,#0b0b14,#050509);border:1px solid rgba(0,234,255,0.16);box-shadow:0 0 26px rgba(0,234,255,0.14);text-decoration:none;color:var(--text-main);transition:0.22s ease;position:relative;overflow:hidden;}
    .repo-card-inner::before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,transparent 0,rgba(0,234,255,0.12) 40%,transparent 80%);opacity:0;transform:translateX(-40%);transition:0.4s ease;}
    .repo-card-inner:hover::before{opacity:1;transform:translateX(20%);}
    .repo-card-inner:hover{transform:translateY(-4px);box-shadow:0 0 34px rgba(0,234,255,0.32);border-color:rgba(0,234,255,0.45);}
    .repo-card-header{display:flex;align-items:center;gap:10px;font-weight:700;color:var(--accent);margin-bottom:8px;font-size:13px;text-transform:uppercase;letter-spacing:0.12em;}
    .repo-dot{width:10px;height:10px;background:var(--accent);border-radius:50%;box-shadow:0 0 10px var(--accent);}
    .repo-card-body p{margin:0;color:var(--text-soft);font-size:13px;}
    .repo-badges{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;}
    .badge{padding:4px 10px;border-radius:999px;background:rgba(0,234,255,0.08);border:1px solid rgba(0,234,255,0.25);font-size:10px;color:var(--accent);text-transform:uppercase;letter-spacing:0.1em;}
    .modules-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
    .module-card{padding:14px;border-radius:12px;background:linear-gradient(180deg,#07101a,#050509);border:1px solid rgba(255,255,255,0.04);color:var(--text-soft);font-size:13px}
    footer{margin-top:28px;padding:28px;text-align:center;color:var(--muted);font-size:12px;opacity:0.9}
    .admin-bar{position:fixed;right:18px;bottom:18px;background:linear-gradient(180deg,#07101a,#050509);border:1px solid rgba(255,255,255,0.06);padding:10px;border-radius:12px;display:flex;gap:8px;align-items:center;z-index:80;box-shadow:0 10px 30px rgba(0,0,0,0.7);}
    .admin-btn{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:6px 10px;border-radius:8px;color:var(--muted);cursor:pointer;font-size:11px;display:inline-flex;align-items:center;gap:4px;transition:0.18s ease;}
    .admin-btn:hover{border-color:rgba(0,234,255,0.5);color:var(--accent)}
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.7);z-index:120}
    .modal.open{display:flex}
    .modal-card{width:720px;max-width:92%;background:linear-gradient(180deg,#07101a,#050509);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.08);box-shadow:0 18px 50px rgba(0,0,0,0.8)}
    .form-row{display:flex;gap:8px;margin-bottom:10px;align-items:center}
    .form-row label{min-width:120px;color:var(--muted);font-size:13px}
    .form-row input,.form-row select{flex:1;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:var(--text-main);font-size:13px}
    #intro{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#000;z-index:200;overflow:hidden}
    #introText{font-size:20px;color:var(--accent);text-shadow:0 0 10px #00eaff88;white-space:nowrap;overflow:hidden;border-right:2px solid var(--accent);width:0;animation:typing 2.5s steps(30),blink 0.7s infinite}
    @keyframes typing{from{width:0}to{width:280px}}@keyframes blink{50%{border-color:transparent}}
    .particle{position:absolute;width:4px;height:4px;background:var(--accent);border-radius:50%;box-shadow:0 0 8px var(--accent);opacity:0;pointer-events:none}
    @media (max-width:900px){.modules-grid{grid-template-columns:repeat(1,1fr)}.wrap{padding:16px}.hero h1{font-size:26px}header.topbar{padding:8px 14px}.brand-title{font-size:12px}.actions{display:none}}
  </style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WZQKSTXX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
<div id="intro">
    <div style="text-align:center">
      <div id="introText">BOOTING XCLOUD ENTERPRISE...</div>
      <div style="height:10px"></div>
      <div style="color:var(--muted);font-size:12px">Initializing modules · ZDOS · DSN · Wallet</div>
    </div>
  </div>

  <header class="topbar" role="banner">
    <div class="brand">
      <div class="brand-mark" aria-hidden="true"></div>
      <div>
        <div class="brand-title">xCLOUD</div>
        <div style="font-size:11px;color:var(--muted)">by ZDOS · Business Layer</div>
      </div>
    </div>

    <nav class="topnav" role="navigation" aria-label="Main navigation">
      <a href="https://x-zdos.it" class="primary" title="Home">Home</a>
      <a href="https://x-zdos.it/zdos" title="ZDOS">ZDOS</a>
      <a href="https://wallet.x-zdos.it" title="DSN Wallet">DSN Wallet</a>
      <a href="#modules" title="Modules">Modules</a>
      <a href="#about" title="About">About</a>
    </nav>

    <div class="actions">
      <a class="btn" href="https://github.com/high-cde/xCLOUD-by-zdos" target="_blank" rel="noopener">Repo</a>
      <button id="open-settings" class="btn">Settings</button>
    </div>
  </header>

  <main class="wrap" role="main" aria-live="polite">
    <section class="hero" aria-labelledby="hero-title">
      <h1 id="hero-title">xCLOUD · Business Layer Enterprise</h1>
      <p>
        Un gestionale modulare, pronto per l'integrazione blockchain (DSN), pensato per aziende che vogliono
        audit, tracciabilità e interoperabilità senza stravolgere i processi esistenti.
      </p>

      <div class="hero-cta" role="region" aria-label="Call to actions">
        <a class="btn primary" href="https://wallet.x-zdos.it" target="_blank" rel="noopener">Apri DSN Wallet</a>
        <a class="btn ghost" href="https://x-zdos.it/zdos" target="_blank" rel="noopener">Vai a ZDOS</a>
      </div>

      <div class="social-buttons">
        <a class="social-btn" href="https://discord.gg/9fDdURTevG" target="_blank" rel="noopener">Discord</a>
        <a class="social-btn" href="https://ko-fi.com/highkali" target="_blank" rel="noopener">Ko‑fi</a>
      </div>
    </section>

    <section class="desktop" id="modules" aria-labelledby="desktop-title">
      <div class="desktop-title" id="desktop-title">CloudX Desktop · Terminal Module</div>

      <div class="terminal-window" role="region" aria-label="Terminal">
        <div class="terminal-header">
          <div class="term,-dots" aria-hidden="true">
            <div class="term-dot red"></div>
            <div class="term-dot yellow"></div>
            <div class="term-dot green"></div>
          </div>
          <div style="font-weight:700">cloudx@xdos: ~</div>
          <div style="font-size:12px;color:var(--muted)">Collapse‑OS emu (concept)</div>
        </div>

        <div class="terminal-body" id="terminal-body">
          <div id="terminal-output" class="terminal-output">
xCLOUD Terminal v2.0
Type "help" for available commands.
          </div>

          <div class="terminal-input-line">
            <span class="terminal-prompt">cloudx@xdos:~$</span>
            <input id="terminal-input" class="terminal-input" autocomplete="off" aria-label="Terminal input" />
          </div>
        </div>
      </div>

      <div class="nexus-wrapper">
        <a class="nexus-button" id="nexus" href="https://x-zdos.it" role="button" aria-label="Enter CloudX">
          <span class="nexus-core" aria-hidden="true"></span>
          <span class="nexus-label">ENTER CLOUDX</span>
        </a>
      </div>

      <div class="repo-card">
        <a href="https://github.com/high-cde/xCLOUD-by-zdos" target="_blank" class="repo-card-inner" rel="noopener">
          <div class="repo-card-header">
            <div class="repo-dot"></div>
            <span>xCLOUD · Enterprise Repo</span>
          </div>
          <div class="repo-card-body">
            <p>Fork potenziato · CloudX × ZDOS · DSN Ready · Business Layer modulare.</p>
            <div class="repo-badges">
              <span class="badge">MIT</span>
              <span class="badge">Enterprise</span>
              <span class="badge">Blockchain Ready</span>
              <span class="badge">CloudX Native</span>
            </div>
          </div>
        </a>
      </div>

      <div class="modules-grid" aria-label="Modules grid">
        <div class="module-card">
          <strong>CRM</strong>
          <div style="color:var(--muted);font-size:13px;margin-top:6px">Gestione clienti, pipeline, integrazione DSN per audit.</div>
        </div>
        <div class="module-card">
          <strong>Billing</strong>
          <div style="color:var(--muted);font-size:13px;margin-top:6px">Fatturazione, integrazione gateway, tracciabilità transazioni.</div>
        </div>
        <div class="module-card">
          <strong>Inventory</strong>
          <div style="color:var(--muted);font-size:13px;margin-top:6px">Magazzino, lotti, seriali e audit chain‑ready.</div>
        </div>
      </div>
    </section>

    <section id="about" style="margin-top:22px">
      <div style="max-width:900px;margin:0 auto;padding:18px;border-radius:12px;background:linear-gradient(180deg,#07101a,#050509);border:1px solid rgba(255,255,255,0.04);">
        <h2 style="color:var(--accent);margin:0 0 8px">About CloudX</h2>
        <p style="color:var(--text-soft);margin:0 0 8px">xCLOUD è progettato per aziende che richiedono interoperabilità, audit e governance. Architettura modulare, API first, DSN‑ready per registrare eventi critici in modo immutabile.</p>
        <ul style="color:var(--muted);margin:8px 0 0;padding-left:18px">
          <li>Moduli plug‑and‑play</li>
          <li>Audit e tracciabilità su DSN</li>
          <li>CI/CD ready per deploy enterprise</li>
        </ul>
      </div>
    </section>

    <footer>
      xCLOUD · ZDOS Ecosystem · Enterprise Premium — Auditabile, modulare, DSN‑ready.
    </footer>
  </main>

  <div class="admin-bar" role="toolbar" aria-label="Admin">
    <button class="admin-btn" id="btn-deploy">Deploy</button>
    <button class="admin-btn" id="btn-logs">Logs</button>
    <button class="admin-btn" id="btn-settings">Chain</button>
  </div>

  <div class="modal" id="modal-settings" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card" role="document">
      <h3 style="margin:0 0 8px;color:var(--accent)">Impostazioni Blockchain</h3>
      <div style="color:var(--muted);font-size:13px;margin-bottom:12px">
        Configura la rete DSN e i riferimenti aziendali (salvati in locale per questa istanza).
      </div>

      <div class="form-row">
        <label>Abilita</label>
        <select id="chain-enabled">
          <option value="true">Sì</option>
          <option value="false">No</option>
        </select>
      </div>

      <div class="form-row">
        <label>Rete</label>
        <select id="chain-network">
          <option value="polygon">Polygon</option>
          <option value="mumbai">Mumbai (test)</option>
        </select>
      </div>

      <div class="form-row">
        <label>RPC URL</label>
        <input id="chain-rpc" placeholder="https://polygon-rpc.com" />
      </div>

      <div class="form-row">
        <label>DSN Token</label>
        <input id="chain-token" placeholder="0x..." />
      </div>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button id="save-chain" class="admin-btn">Salva</button>
        <button id="close-chain" class="admin-btn">Chiudi</button>
      </div>
    </div>
  </div>
  <script>
    const CHAIN_CONFIG = {
      enabled: true,
      network: "polygon",
      rpcUrl: "https://polygon-rpc.com",
      explorerBase: "https://polygonscan.com/tx/",
      dsnTokenAddress: "0xDSN_TOKEN_ADDRESS",
      businessRegistryAddress: ""
    };

    function loadChainConfig(){
      try{
        const raw = localStorage.getItem("xcloud_chain_config");
        if(raw){ Object.assign(CHAIN_CONFIG, JSON.parse(raw)); }
      }catch(e){}
    }
    function saveChainConfig(){
      try{ localStorage.setItem("xcloud_chain_config", JSON.stringify(CHAIN_CONFIG)); }catch(e){}
    }
    loadChainConfig();

    async function recordOnChain(eventType, payload){
      if(!CHAIN_CONFIG.enabled) return {ok:false, reason:"disabled"};
      const envelope = {
        ts: new Date().toISOString(),
        network: CHAIN_CONFIG.network,
        event: eventType,
        payload
      };
      console.log("[CHAIN ADAPTER]", envelope);
      return {ok:true, envelope};
    }

    const termOut = document.getElementById("terminal-output");
    const termIn = document.getElementById("terminal-input");

    const commands = {
      help: () => `Available commands:
  help        - show this help
  about       - info on xCLOUD
  chain       - show chain config
  record      - simulate record on chain
  stats       - show local analytics summary
  clear       - clear screen`,
      about: () => `xCLOUD · ZDOS Enterprise
Business layer, DSN-ready, modular CRM & workflows.`,
      chain: () => JSON.stringify(CHAIN_CONFIG, null, 2),
      stats: () => {
        try{
          const a = JSON.parse(localStorage.getItem("xcloud_analytics")||"[]");
          return "Local analytics events: " + a.length;
        }catch(e){ return "No analytics"; }
      },
      record: async () => {
        const res = await recordOnChain("TEST_EVENT", {sample:"data", user:"admin"});
        return res.ok ? "Recorded (simulated) on chain: " + JSON.stringify(res.envelope) : "Record skipped: " + res.reason;
      },
      clear: () => { termOut.textContent = ""; return ""; }
    };

    termIn.addEventListener("keydown", async (e) => {
      if(e.key !== "Enter") return;
      const v = termIn.value.trim();
      if(!v) return;
      const prompt = "cloudx@xdos:~$ " + v + "\n";
      let response = "";
      if(commands[v]){
        const res = commands[v];
        response = typeof res === "function" ? await res() : res;
        if(response === undefined) response = "";
      } else {
        response = `Command not found: ${v}`;
      }
      if(v !== "clear") termOut.textContent += "\n" + prompt + response + "\n";
      termIn.value = "";
      const body = document.getElementById("terminal-body");
      body.scrollTop = body.scrollHeight;
    });

    document.getElementById("nexus").addEventListener("click", function(e){
      e.preventDefault();
      const portal = document.createElement("div");
      portal.className = "portal-flash";
      document.body.appendChild(portal);

      portal.animate([
        { opacity: 0, transform: "scale(0.2)" },
        { opacity: 1, transform: "scale(1.8)" },
        { opacity: 0, transform: "scale(3)" }
      ], { duration: 700, easing: "ease-out", fill:"forwards" });

      try{
        const ev = {type:"nexus_click", ts:new Date().toISOString(), path:location.pathname};
        const a = JSON.parse(localStorage.getItem("xcloud_analytics")||"[]");
        a.push(ev); localStorage.setItem("xcloud_analytics", JSON.stringify(a));
      }catch(e){}

      setTimeout(()=>{ window.location.href = this.href; }, 520);
    });

    window.addEventListener("load", () => {
      setTimeout(() => {
        const intro = document.getElementById("intro");
        const text = document.getElementById("introText");
        const rect = text.getBoundingClientRect();

        for (let i = 0; i < 60; i++) {
          const p = document.createElement("div");
          p.classList.add("particle");
          document.body.appendChild(p);

          p.style.left = rect.left + rect.width / 2 + "px";
          p.style.top = rect.top + rect.height / 2 + "px";

          const angle = Math.random() * Math.PI * 2;
          const distance = 80 + Math.random() * 120;
          const x = Math.cos(angle) * distance;
          const y = Math.sin(angle) * distance;

          p.animate([
            { transform: "translate(0,0)", opacity: 1 },
            { transform: `translate(${x}px, ${y}px)`, opacity: 0 }
          ], {
            duration: 900 + Math.random() * 400,
            easing: "ease-out",
            fill: "forwards"
          });
        }

        text.style.opacity = 0;

        setTimeout(() => {
          intro.style.opacity = 0;
          intro.style.transition = "opacity 0.8s ease";
        }, 300);

        setTimeout(() => {
          intro.remove();
        }, 1200);
      }, 2200);

      (async function demoRecord(){
        await recordOnChain("PAGE_LOADED", {path: location.pathname, user: "anonymous"});
      })();
    });

    const modal = document.getElementById("modal-settings");
    document.getElementById("open-settings").addEventListener("click", () => {
      document.getElementById("chain-enabled").value = String(CHAIN_CONFIG.enabled);
      document.getElementById("chain-network").value = CHAIN_CONFIG.network;
      document.getElementById("chain-rpc").value = CHAIN_CONFIG.rpcUrl;
      document.getElementById("chain-token").value = CHAIN_CONFIG.dsnTokenAddress;
      modal.classList.add("open"); modal.setAttribute("aria-hidden","false");
    });
    document.getElementById("close-chain").addEventListener("click", () => {
      modal.classList.remove("open"); modal.setAttribute("aria-hidden","true");
    });
    document.getElementById("save-chain").addEventListener("click", () => {
      CHAIN_CONFIG.enabled = document.getElementById("chain-enabled").value === "true";
      CHAIN_CONFIG.network = document.getElementById("chain-network").value;
      CHAIN_CONFIG.rpcUrl = document.getElementById("chain-rpc").value || CHAIN_CONFIG.rpcUrl;
      CHAIN_CONFIG.dsnTokenAddress = document.getElementById("chain-token").value || CHAIN_CONFIG.dsnTokenAddress;
      saveChainConfig();
      modal.classList.remove("open"); modal.setAttribute("aria-hidden","true");
      alert("Configurazione blockchain salvata localmente. Per deploy enterprise, sincronizza con il tuo relayer.");
    });

    document.getElementById("btn-deploy").addEventListener("click", () => {
      alert("Deploy triggered (simulazione). Integra CI/CD per deploy reale.");
    });
    document.getElementById("btn-logs").addEventListener("click", () => {
      const logs = localStorage.getItem("xcloud_analytics") || "[]";
      alert("Analytics logs (local):\n\n" + logs);
    });
    document.getElementById("btn-settings").addEventListener("click", () => {
      document.getElementById("open-settings").click();
    });
  </script>
</body>
</html>






